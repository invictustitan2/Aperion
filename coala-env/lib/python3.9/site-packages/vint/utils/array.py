from functools import reduce
from operator import add
from typing import Callable, List, TypeVar

T = TypeVar('T')
S = TypeVar('S')


def flatten(l):
    # type: (List[List[T]]) -> List[T]
    return reduce(add, l, [])


def flat_map(f, l):
    # type: (Callable[[S], List[T]], List[S]) -> List[T]
    return flatten([f(x) for x in l])